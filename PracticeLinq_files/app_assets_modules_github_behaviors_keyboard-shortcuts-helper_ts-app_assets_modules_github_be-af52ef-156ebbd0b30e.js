"use strict";(()=>{var oe=Object.defineProperty;var s=(M,y)=>oe(M,"name",{value:y,configurable:!0});(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-af52ef"],{7679:(M,y,u)=>{u.d(y,{H:()=>f,v:()=>h});var p=u(59753);function h(){const a=document.getElementById("ajax-error-message");a&&(a.hidden=!1)}s(h,"showGlobalError");function f(){const a=document.getElementById("ajax-error-message");a&&(a.hidden=!0)}s(f,"hideGlobalError"),(0,p.on)("deprecatedAjaxError","[data-remote]",function(a){const r=a.detail,{error:d,text:E}=r;a.currentTarget===a.target&&(d==="abort"||d==="canceled"||(/<html/.test(E)?(h(),a.stopImmediatePropagation()):setTimeout(function(){a.defaultPrevented||h()},0)))}),(0,p.on)("deprecatedAjaxSend","[data-remote]",function(){f()}),(0,p.on)("click",".js-ajax-error-dismiss",function(){f()})},5287:(M,y,u)=>{u.d(y,{Ty:()=>h,YE:()=>f,Zf:()=>a});var p=u(11793);const h=s(()=>{const r=document.querySelector("meta[name=keyboard-shortcuts-preference]");return r?r.content==="all":!0},"areCharacterKeyShortcutsEnabled"),f=s(r=>/Enter|Arrow|Escape|Meta|Control|Esc/.test(r)||r.includes("Alt")&&r.includes("Shift"),"isNonCharacterKeyShortcut"),a=s(r=>{const d=(0,p.EL)(r);return h()?!0:f(d)},"isShortcutAllowed")},72669:(M,y,u)=>{u.d(y,{L$:()=>E,SE:()=>V,nj:()=>b});var p=u(6741),h=u(59753),f=u(40987),a=u(64463),r=u(65935),d=u(56238);(0,a.N7)(".js-task-list-container .js-task-list-field",function(e){const n=e.closest(".js-task-list-container");E(n),N(n)}),(0,a.N7)(".js-convert-tasklist-to-block-enabled .contains-task-list",function(e){const n=Z(e);if(!n||Array.from(n.children).some(w=>w.classList.contains("task-list-item-convert-container")))return;const T=e.ownerDocument.querySelector(".js-convert-to-block-template")?.content.cloneNode(!0);!T||n.appendChild(T)}),(0,h.on)("task-lists-move","task-lists",function(e){const{src:n,dst:t}=e.detail,l=e.currentTarget.closest(".js-task-list-container");m(l,"reordered",{operation:"move",src:n,dst:t})}),(0,h.on)("task-lists-check","task-lists",function(e){const{position:n,checked:t}=e.detail,l=e.currentTarget.closest(".js-task-list-container");m(l,`checked:${t?1:0}`,{operation:"check",position:n,checked:t})}),(0,h.on)("click",".js-convert-to-block-button",function(e){const n=Z(e.target);if(!n)return;if(!n.closest("task-lists"))throw new Error("parent not found");const l=V(n),T=e.currentTarget.closest(".js-task-list-container");m(T,"converted",{operation:"convert_to_block",position:l})});function E(e){if(e.querySelector(".js-task-list-field")){const n=e.querySelectorAll("task-lists");for(const t of n)if(t instanceof f.Z){t.disabled=!1;const l=t.querySelectorAll("button");for(const T of l)T.disabled=!1}}}s(E,"enableTaskList");function b(e){for(const n of e.querySelectorAll("task-lists"))if(n instanceof f.Z){n.disabled=!0;const t=n.querySelectorAll("button");for(const l of t)l.disabled=!0}}s(b,"disableTaskList");function m(e,n,t){const l=e.querySelector(".js-comment-update");b(e),N(e);const T=l.elements.namedItem("task_list_track");T instanceof Element&&T.remove();const w=l.elements.namedItem("task_list_operation");w instanceof Element&&w.remove();const S=document.createElement("input");S.setAttribute("type","hidden"),S.setAttribute("name","task_list_track"),S.setAttribute("value",n),l.appendChild(S);const A=document.createElement("input");if(A.setAttribute("type","hidden"),A.setAttribute("name","task_list_operation"),A.setAttribute("value",JSON.stringify(t)),l.appendChild(A),!l.elements.namedItem("task_list_key")){const O=l.querySelector(".js-task-list-field").getAttribute("name").split("[")[0],C=document.createElement("input");C.setAttribute("type","hidden"),C.setAttribute("name","task_list_key"),C.setAttribute("value",O),l.appendChild(C)}e.classList.remove("is-comment-stale"),(0,d.Bt)(l)}s(m,"saveTaskList"),(0,r.AC)(".js-task-list-container .js-comment-update",async function(e,n){const t=e.closest(".js-task-list-container"),l=e.elements.namedItem("task_list_track");l instanceof Element&&l.remove();const T=e.elements.namedItem("task_list_operation");T instanceof Element&&T.remove();let w;try{w=await n.json()}catch(S){let A;try{A=JSON.parse(S.response.text)}catch{}if(A&&A.stale){const I=t.querySelector(".js-task-list-field");I.classList.add("session-resumable-canceled"),I.classList.remove("js-session-resumable")}else S.response.status===422||window.location.reload()}w&&(T&&w.json.source&&(t.querySelector(".js-task-list-field").value=w.json.source),E(t),requestAnimationFrame(()=>N(t)))});let v=!1,_=!1,L=null;function i(e){e.inputType==="insertLineBreak"?v=!0:v=!1}s(i,"tryAutoCompleteOnBeforeInput");function c(e){const n=e;if(!v&&!(n.inputType==="insertLineBreak"))return;const t=n.target;o(t),v=!1}s(c,"autoCompleteOnInput");function o(e){const n=ee(e.value,[e.selectionStart,e.selectionEnd]);n!==void 0&&g(e,n)}s(o,"listAutocomplete");function g(e,n){if(L===null||L===!0){e.contentEditable="true";try{v=!1;let t;n.commandId===X.insertText?(t=n.autocompletePrefix,n.writeSelection[0]!==null&&n.writeSelection[1]!==null&&(e.selectionStart=n.writeSelection[0],e.selectionEnd=n.writeSelection[1])):e.selectionStart=n.selection[0],L=document.execCommand(n.commandId,!1,t)}catch{L=!1}e.contentEditable="false"}if(!L){try{document.execCommand("ms-beginUndoUnit")}catch{}e.value=n.text;try{document.execCommand("ms-endUndoUnit")}catch{}e.dispatchEvent(new CustomEvent("input",{bubbles:!0,cancelable:!0}))}n.selection[0]!=null&&n.selection[1]!=null&&(e.selectionStart=n.selection[0],e.selectionEnd=n.selection[1])}s(g,"updateElementText");function k(e){if(_)return;const n=e;if(n.key==="Enter"&&n.shiftKey&&!n.metaKey){const t=n.target,l=J(t.value,[t.selectionStart,t.selectionEnd]);if(l===void 0)return;g(t,l),n.preventDefault(),(0,h.f)(t,"change")}}s(k,"handleShiftEnter");function x(){_=!0}s(x,"onCompositionStart");function U(){_=!1}s(U,"onCompositionEnd");function $(e){if(_)return;const n=e;if(n.key==="Escape"){ne(e);return}if(n.key!=="Tab")return;const t=n.target,l=te(t.value,[t.selectionStart,t.selectionEnd],n.shiftKey);l!==void 0&&(n.preventDefault(),g(t,l))}s($,"updateIndentation"),(0,a.N7)(".js-task-list-field",{subscribe:e=>(0,p.qC)((0,p.RB)(e,"keydown",$),(0,p.RB)(e,"keydown",k),(0,p.RB)(e,"beforeinput",i),(0,p.RB)(e,"input",c),(0,p.RB)(e,"compositionstart",x),(0,p.RB)(e,"compositionend",U))});var X=(e=>(e.insertText="insertText",e.delete="delete",e))(X||{});const z=/^(\s*)?/;function J(e,n){const t=n[0];if(!t||!e)return;const l=e.substring(0,t).split(`
`),w=l[l.length-1]?.match(z);if(!w)return;const A=`
${w[1]||""}`;return{text:e.substring(0,t)+A+e.substring(t),autocompletePrefix:A,selection:[t+A.length,t+A.length],commandId:"insertText",writeSelection:[null,null]}}s(J,"addSoftNewline");const Y=/^(\s*)([*-]|(\d+)\.)\s(\[[\sx]\]\s)?/;function Q(e,n){let t=e.split(`
`);return t=t.map(l=>{if(l.replace(/^\s+/,"").startsWith(`${n}.`)){const T=l.replace(`${n}`,`${n+1}`);return n+=1,T}return l}),t.join(`
`)}s(Q,"updateRemainingNumberBullets");function ee(e,n){const t=n[0];if(!t||!e)return;const l=e.substring(0,t).split(`
`),T=l[l.length-2],w=T?.match(Y);if(!w)return;const S=w[0],A=w[1],I=w[2],B=parseInt(w[3],10),O=Boolean(w[4]),C=!isNaN(B);let R=`${C?`${B+1}.`:I} ${O?"[ ] ":""}`,j=e.indexOf(`
`,t);j<0&&(j=e.length);const H=e.substring(t,j);if(H.startsWith(R)&&(R=""),T.replace(S,"").trim().length>0||H.trim().length>0){let P=`${A}${R}`,D=e.substring(t);const K=P.length;let W=[null,null];const se=/^\s*$/g;let G=e.substring(0,t)+P+D;return C&&!e.substring(t).match(se)&&(D=Q(e.substring(t),B+1),P+=D,W=[t,t+P.length],G=e.substring(0,t)+P),{text:G,autocompletePrefix:P,selection:[t+K,t+K],commandId:"insertText",writeSelection:W}}else{const P=t-`
${S}`.length;return{autocompletePrefix:"",text:e.substring(0,P)+e.substring(t),selection:[P,P],commandId:"delete",writeSelection:[null,null]}}}s(ee,"autocompletedList");function te(e,n,t){const l=n[0]||0,T=n[1]||l;if(n[0]===null||l===T)return;const w=e.substring(0,l).lastIndexOf(`
`)+1,S=e.indexOf(`
`,T-1),A=S>0?S:e.length-1,I=e.substring(w,A).split(`
`);let B=!1,O=0,C=0;const q=[];for(const F of I){const P=F.match(/^\s*/);if(P){let D=P[0];const K=F.substring(D.length);if(t){const W=D.length;D=D.slice(0,-2),O=B?O:D.length-W,B=!0,C+=D.length-W}else D+="  ",O=2,C+=2;q.push(D+K)}}const R=q.join(`
`),j=e.substring(0,w)+R+e.substring(A),H=[Math.max(w,l+O),T+C];return{text:j,selection:H,autocompletePrefix:R,commandId:"insertText",writeSelection:[w,A]}}s(te,"indent");function V(e){const n=e.closest("task-lists");if(!n)throw new Error("parent not found");return Array.from(n.querySelectorAll("ol.contains-task-list, ul.contains-task-list")).indexOf(e)}s(V,"listIndex");function ne(e){const t=e.target;t.selectionDirection==="backward"?t.selectionEnd=t.selectionStart:t.selectionStart=t.selectionEnd}s(ne,"deselectText");function N(e){if(document.querySelectorAll("tracked-issues-progress").length===0||e.closest(".js-timeline-item"))return;const t=e.querySelectorAll(".js-comment-body [type=checkbox]"),l=t.length,T=Array.from(t).filter(S=>S.checked).length,w=document.querySelectorAll("tracked-issues-progress[data-type=checklist]");for(const S of w)S.setAttribute("data-completed",String(T)),S.setAttribute("data-total",String(l))}s(N,"updateProgress");function Z(e){let n=e.closest(".contains-task-list"),t=n;for(;(t=t.parentElement.closest(".contains-task-list"))!==n&&t!==null;)n=t;return n}s(Z,"findTopLevelTasklistContainer")},12737:(M,y,u)=>{u.d(y,{W:()=>h});var p=u(59753);async function h(f){const r=document.querySelector("#site-details-dialog").content.cloneNode(!0),d=r.querySelector("details"),E=d.querySelector("details-dialog"),b=d.querySelector(".js-details-dialog-spinner");f.detailsClass&&d.classList.add(...f.detailsClass.split(" ")),f.dialogClass&&E.classList.add(...f.dialogClass.split(" ")),f.label?E.setAttribute("aria-label",f.label):f.labelledBy&&E.setAttribute("aria-labelledby",f.labelledBy),document.body.append(r);const m=await f.content;return b.remove(),E.prepend(m),d.addEventListener("toggle",()=>{d.hasAttribute("open")||((0,p.f)(E,"dialog:remove"),d.remove())}),E}s(h,"dialog")},29719:(M,y,u)=>{u.d(y,{D:()=>a,a:()=>f});var p=u(17463),h=u(12981);async function f(r,d,E){const b=new Request(d,E);b.headers.append("X-Requested-With","XMLHttpRequest");const m=await self.fetch(b);if(m.status<200||m.status>=300)throw new Error(`HTTP ${m.status}${m.statusText||""}`);return(0,p.t)((0,p.P)(r),m),(0,h.r)(r,await m.text())}s(f,"fetchSafeDocumentFragment");function a(r,d,E=1e3){return s(async function b(m){const v=new Request(r,d);v.headers.append("X-Requested-With","XMLHttpRequest");const _=await self.fetch(v);if(_.status<200||_.status>=300)throw new Error(`HTTP ${_.status}${_.statusText||""}`);if(_.status===200)return _;if(_.status===202)return await new Promise(L=>setTimeout(L,m)),b(m*1.5);throw new Error(`Unexpected ${_.status} response status from poll endpoint`)},"poll")(E)}s(a,"fetchPoll")},56238:(M,y,u)=>{u.d(y,{Bt:()=>r,DN:()=>b,KL:()=>_,Se:()=>E,qC:()=>L,sw:()=>m});var p=u(59753),h=u(2061),f=u(7679);(0,p.on)("click",".js-remote-submit-button",async function(i){const o=i.currentTarget.form;i.preventDefault();let g;try{g=await fetch(o.action,{method:o.method,body:new FormData(o),headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})}catch{}g&&!g.ok&&(0,f.v)()});function a(i,c,o){return i.dispatchEvent(new CustomEvent(c,{bubbles:!0,cancelable:o}))}s(a,"fire");function r(i,c){c&&(d(i,c),(0,h.j)(c)),a(i,"submit",!0)&&i.submit()}s(r,"requestSubmit");function d(i,c){if(!(i instanceof HTMLFormElement))throw new TypeError("The specified element is not of type HTMLFormElement.");if(!(c instanceof HTMLElement))throw new TypeError("The specified element is not of type HTMLElement.");if(c.type!=="submit")throw new TypeError("The specified element is not a submit button.");if(!i||i!==c.form)throw new Error("The specified element is not owned by the form element.")}s(d,"checkButtonValidity");function E(i,c){if(typeof c=="boolean")if(i instanceof HTMLInputElement)i.checked=c;else throw new TypeError("only checkboxes can be set to boolean value");else{if(i.type==="checkbox")throw new TypeError("checkbox can't be set to string value");i.value=c}a(i,"change",!1)}s(E,"changeValue");function b(i,c){for(const o in c){const g=c[o],k=i.elements.namedItem(o);(k instanceof HTMLInputElement||k instanceof HTMLTextAreaElement)&&(k.value=g)}}s(b,"fillFormValues");function m(i){if(!(i instanceof HTMLElement))return!1;const c=i.nodeName.toLowerCase(),o=(i.getAttribute("type")||"").toLowerCase();return c==="select"||c==="textarea"||c==="input"&&o!=="submit"&&o!=="reset"||i.isContentEditable}s(m,"isFormField");function v(i){return new URLSearchParams(i)}s(v,"searchParamsFromFormData");function _(i,c){const o=new URLSearchParams(i.search),g=v(c);for(const[k,x]of g)o.append(k,x);return o.toString()}s(_,"combineGetFormSearchParams");function L(i){return v(new FormData(i)).toString()}s(L,"serialize")},55741:(M,y,u)=>{u.d(y,{M:()=>f,T:()=>a});var p=u(14840),h=u(56238);function f(o,g=!1){return a(o)||v(o,g)||i(o)||c(o)}s(f,"hasInteractions");function a(o){for(const g of o.querySelectorAll("input, textarea"))if((g instanceof HTMLInputElement||g instanceof HTMLTextAreaElement)&&r(g))return!0;return!1}s(a,"hasDirtyFields");function r(o){if(o instanceof HTMLInputElement&&(o.type==="checkbox"||o.type==="radio")){if(o.checked!==o.defaultChecked)return!0}else if(o.value!==o.defaultValue)return!0;return!1}s(r,"formFieldValueChanged");let d;async function E(o,g){d=o;try{await g()}finally{d=null}}s(E,"withActiveElement");function b(o){return d instanceof Element?d:o&&o.ownerDocument&&o.ownerDocument.activeElement?o.ownerDocument.activeElement:null}s(b,"getActiveElement");let m;document.addEventListener("mouseup",function(o){m=o.target});function v(o,g){const k=b(o);return k===null||g&&k===o?!1:k===o&&(0,h.sw)(k)||o.contains(k)&&!L(k)?!0:m instanceof Element&&o.contains(m)&&!!m.closest("details[open] > summary")}s(v,"hasFocus");const _="a[href], button";function L(o){if(o instanceof p.Z)return!0;const g=o instanceof HTMLAnchorElement||o instanceof HTMLButtonElement,k=o.parentElement?.classList.contains("task-list-item");if(g&&k)return!0;if(!(m instanceof Element))return!1;const x=o.closest(_);if(!x)return!1;const U=m.closest(_);return x===U}s(L,"activeElementIsSafe");function i(o){return o.matches(":active:enabled")}s(i,"hasMousedown");function c(o){return!!(o.closest(".is-dirty")||o.querySelector(".is-dirty"))}s(c,"markedAsDirty")},17463:(M,y,u)=>{u.d(y,{P:()=>p,t:()=>f});function p(a){const r=[...a.querySelectorAll("meta[name=html-safe-nonce]")].map(d=>d.content);if(r.length<1)throw new Error("could not find html-safe-nonce on document");return r}s(p,"getDocumentHtmlSafeNonces");class h extends Error{constructor(r,d){super(`${r} for HTTP ${d.status}`);this.response=d}}s(h,"ResponseError");function f(a,r,d=!1){const E=r.headers.get("content-type")||"";if(!d&&!E.startsWith("text/html"))throw new h(`expected response with text/html, but was ${E}`,r);if(d&&!(E.startsWith("text/html")||E.startsWith("application/json")))throw new h(`expected response with text/html or application/json, but was ${E}`,r);const b=r.headers.get("x-html-safe");if(b){if(!a.includes(b))throw new h("response X-HTML-Safe nonce did not match",r)}else throw new h("missing X-HTML-Safe nonce",r)}s(f,"verifyResponseHtmlSafeNonce")},45075:(M,y,u)=>{u.d(y,{ZG:()=>r,q6:()=>E,w4:()=>d});var p=u(8439);let h=!1;const f=new p.Z;function a(b){const m=b.target;if(m instanceof HTMLElement&&m.nodeType!==Node.DOCUMENT_NODE)for(const v of f.matches(m))v.data.call(null,m)}s(a,"handleFocus");function r(b,m){h||(h=!0,document.addEventListener("focus",a,!0)),f.add(b,m),document.activeElement instanceof HTMLElement&&document.activeElement.matches(b)&&m(document.activeElement)}s(r,"onFocus");function d(b,m,v){function _(L){const i=L.currentTarget;!i||(i.removeEventListener(b,v),i.removeEventListener("blur",_))}s(_,"blurHandler"),r(m,function(L){L.addEventListener(b,v),L.addEventListener("blur",_)})}s(d,"onKey");function E(b,m){function v(_){const{currentTarget:L}=_;!L||(L.removeEventListener("input",m),L.removeEventListener("blur",v))}s(v,"blurHandler"),r(b,function(_){_.addEventListener("input",m),_.addEventListener("blur",v)})}s(E,"onInput")},2061:(M,y,u)=>{u.d(y,{j:()=>p,u:()=>h});function p(f){const a=f.closest("form");if(!(a instanceof HTMLFormElement))return;let r=h(a);if(f.name){const d=f.matches("input[type=submit]")?"Submit":"",E=f.value||d;r||(r=document.createElement("input"),r.type="hidden",r.classList.add("js-submit-button-value"),a.prepend(r)),r.name=f.name,r.value=E}else r&&r.remove()}s(p,"persistSubmitButtonValue");function h(f){const a=f.querySelector("input.js-submit-button-value");return a instanceof HTMLInputElement?a:null}s(h,"findPersistedSubmitButtonValue")},25833:(M,y,u)=>{u.d(y,{Z:()=>L});var p=u(12737),h=u(29719),f=u(64463);function a(i){return new Promise(c=>{i.addEventListener("dialog:remove",c,{once:!0})})}s(a,"waitForDialogClose");function r(i){const c=document.querySelector(".sso-modal");!c||(c.classList.remove("success","error"),i?c.classList.add("success"):c.classList.add("error"))}s(r,"setModalStatus");function d(i){const c=document.querySelector("meta[name=sso-expires-around]");c&&c.setAttribute("content",i)}s(d,"updateExpiresAroundTag");async function E(){const i=document.querySelector("link[rel=sso-modal]"),c=await(0,p.W)({content:(0,h.a)(document,i.href),dialogClass:"sso-modal"});let o=null;const g=window.external;if(g.ssoComplete=function(k){k.error?(o=!1,r(o)):(o=!0,r(o),d(k.expiresAround),window.focus()),g.ssoComplete=null},await a(c),!o)throw new Error("sso prompt canceled")}s(E,"ssoPrompt"),(0,f.N7)(".js-sso-modal-complete",function(i){if(window.opener&&window.opener.external.ssoComplete){const c=i.getAttribute("data-error"),o=i.getAttribute("data-expires-around");window.opener.external.ssoComplete({error:c,expiresAround:o}),window.close()}else{const c=i.getAttribute("data-fallback-url");c&&(window.location.href=c)}});function b(i){if(!(i instanceof HTMLMetaElement))return!0;const c=parseInt(i.content);return new Date().getTime()/1e3>c}s(b,"expiresSoon");async function m(){const i=document.querySelector("link[rel=sso-session]"),c=document.querySelector("meta[name=sso-expires-around]");if(!(i instanceof HTMLLinkElement)||!b(c))return!0;const o=i.href;return await(await fetch(o,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}})).json()}s(m,"fetchSsoStatus");let v=null;function _(){v=null}s(_,"clearActiveSsoPrompt");async function L(){await m()||(v||(v=E().then(_).catch(_)),await v)}s(L,"__WEBPACK_DEFAULT_EXPORT__")},6741:(M,y,u)=>{u.d(y,{RB:()=>h,qC:()=>f,w0:()=>p});class p{constructor(r){this.closed=!1,this.unsubscribe=()=>{r(),this.closed=!0}}}s(p,"Subscription");function h(a,r,d,E={capture:!1}){return a.addEventListener(r,d,E),new p(()=>{a.removeEventListener(r,d,E)})}s(h,"fromEvent");function f(...a){return new p(()=>{for(const r of a)r.unsubscribe()})}s(f,"compose")}}]);})();

//# sourceMappingURL=app_assets_modules_github_behaviors_keyboard-shortcuts-helper_ts-app_assets_modules_github_be-af52ef-82473f730bb3.js.map